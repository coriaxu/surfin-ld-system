# Surfin L&D System V2 (Surfin 学习发展系统 V2)

这是一个基于 Web 的轻量级**学习发展管理系统**，专为管理培训记录、预算、以及 AI 知识库内容而设计。

## 🌟 项目简介

本项目由**若谷**（您的 AI 产品经理）接手负责，旨在为您提供一个简单、美观且功能强大的数据管理工具。无需复杂的服务器部署，只需一个 HTML 文件即可在浏览器中运行，并在您的本地（浏览器缓存）安全地保存数据。

## ✨ 主要功能

系统分为四大主要模块：

### 1. 📊 培训大屏 (Dashboard)
- **核心数据概览**：实时显示本月培训场次、总人时、本月培训人数、本月所有项目支出，并新增 2026 年累计场次/人数/总人时/支出。
- **可视化图表**：
    - **培训人时趋势**：折线图展示每月的人时变化。
    - **预算 vs 开销**：柱状图对比每月的预算与实际花费。
    - **费用构成**：甜甜圈图分析常规与特殊开销的比例。
- **导出功能**：支持将当前页面导出为 **Excel** 表格、**JSON** 数据备份、**备份码（复制粘贴）** 或高通过性的 **PDF** 报告。

### 2. 👩‍🏫 培训管理 (Training Management)
- **场次记录**：详细记录每一次培训的时间、课程、项目、讲师、人数及时长。
- **自动计算**：系统会自动计算“总人时”（人数 × 时长），方便统计工作量。
- **增删改查**：可以随时添加新记录，或对已有记录进行编辑和删除。

### 3. 🤖 AI 知识库 (AI Knowledge Base)
本模块专为 AI 相关的知识分享活动设计，包含两个子版块：
- **🎙️ AI 广播站**：
    - **看板管理**：追踪每一期的制作流程（从选题到数据回收）。
    - **查看率趋势**：通过柱状图和折线图分析内容的受欢迎程度。
    - **发布热力图**：直观展示全年的内容发布密度。
    - **详情记录**：记录每期主题、查看人数、分类（新闻、工具、论文等）。
- **📅 AI 分享月**：
    - **培训执行看板**：管理线下/线上分享会的筹备进度。
    - **参与率分析**：追踪员工对分享活动的参与度。

### 4. 💰 预算与开销 (Budget & Expenses)
- **月度管理**：按月规划培训预算。
- **类型区分**：区分“常规项目”与“特殊项目”，便于财务分析。
- **实时监控**：输入实际开销后，系统自动计算剩余金额，并用颜色标识（绿色为有结余，红色为超支）。

## 🚀 如何使用

1.  **打开系统**：直接双击文件夹中的 `index.html` 文件，它会在您的默认浏览器中打开。也可以直接访问 GitHub Pages 在线版本。
2.  **数据存储**：
    - 所有数据默认保存在您的**浏览器缓存 (Local Storage)** 中。不同浏览器/不同设备之间数据不会自动同步。
    - **GitHub Pages 初始化数据**：页面会自动读取仓库根目录的 `data.json` 作为初始数据源。
    - **更新线上数据**：先在本地导出 `surfin-ld-data.json`，再用它覆盖仓库里的 `data.json` 并推送。
    - **本地打开提示**：直接双击 `index.html` 时，部分浏览器可能无法读取 `data.json`，可用“导入/备份码”恢复或启动本地服务访问。
    - **⚠️ 重要提示**：建议定期点击顶部的 **"JSON"** 或 **"备份码"** 进行备份，以防更换电脑、切换浏览器或清理缓存导致数据丢失。
    - **恢复方式**：点击 **"导入"** 选择 JSON 文件，或在 **"备份码"** 中一键粘贴恢复数据。
3.  **开始记录**：点击侧边栏导航切换不同页面，使用“数据录入”表单添加您的第一条记录吧！

## 🛠️ 技术说明
- **技术栈**：原生 HTML5, CSS3, JavaScript (ES6+)。
- **外部库**：
    - `Chart.js`: 用于生成精美的统计图表。
    - `html2canvas` & `jspdf`: 用于生成 PDF 报告。
    - `xlsx`: 用于导出 Excel 表格。
- **无需联网**：核心功能完全本地运行（外部库通过 CDN 加载，首次加载需网络，缓存后可离线使用）。

## 🌟 功能更新日志

### 2025-12-25：AI 分享月 - 星云时光轴
上线了全新的**项目进度管理看板**，专为 AI 分享月设计：
- **星云紫主题**：采用区别于广播站的紫色调，优雅且具有辨识度。
- **8 步时光轴**：`主题确定` -> `课程开发` -> `宣发物料` -> `首轮通知` -> `二轮通知` -> `建群倒计时` -> `培训执行` -> `数据归档`。
- **交互方式**：
  - **点击**某个步骤图标，即可将其标记为“已完成”（变为金色）。
  - 下一个未完成的步骤会自动闪烁（紫色呼吸灯），提示为“当前进行中”。

## 🤝 若谷与徐老师的合作模式 (Workflow)

为了让您更轻松，我们约定以下**数据更新流程**：

### 1. 您的工作 (徐老师) 👩‍🏫
当您在本地录入了新数据，想同步到线上时：
1. 点击页面右上角的 **[JSON]** 按钮，下载 `surfin-ld-data.json`。
2. **直接把这个文件发给我**（或者打开复制里面的内容给我）。
3. 告诉我：“若谷，这是最新数据，帮我更新到线上。”

### 2. 我的工作 (若谷) 🤖
收到数据后，我会：
1. 帮您检查 JSON 格式是否有错（比如那个"双引号"问题）。
2. 帮您替换代码仓库里的 `data.json`。
3. 帮您推送到 GitHub。
4. 通知您：“更新好了！请去线上点一下**[强制刷新数据]**按钮。”

---

## ⚠️ 常见问题与解决 (Troubleshooting)

### Q1: 为什么我在 GitHub data.json 只有 23 期，但网页上已经有 85 期了？
这是正常的！
- **GitHub 上的 data.json**：是**初始化数据**。
- **您的真实数据**：保存在**本地浏览器缓存**中。
一旦您开始使用，本地数据就会比 GitHub 数据新，系统会优先读取本地数据。

### Q2: 我上传了最新的 data.json 到 GitHub，但网页上显示的还是旧数据？
这通常是因为**本地缓存**还没有同步。解决方法有三种：

1. **✨ 推荐方案（新增功能）**：
   - 点击页面顶部的 **"备份码"** 按钮。
   - 点击最下方的 **红色按钮 [强制刷新数据]**。
   - 这会清除本地旧缓存，强制拉取线上最新的 content。

2. **双重保险**：
   - 如果您怕误删数据，请先点击 **[生成备份码]** -> **[复制]** 保存到记事本。
   - 然后再点击 **[强制刷新数据]**。

3. **开发者模式（备选）**：
   - 按 `F12` 打开控制台。
   - 输入 `allow pasting` 并回车（如果是新版 Chrome）。
   - 输入 `localStorage.clear()` 并回车。
   - 刷新页面。

### Q3: 为什么上传 data.json 后页面一片空白或数据显示不全？
这通常是 JSON 格式错误导致的，最常见的原因是**英文引号冲突**。
- **错误写法**：`"title": "港大"幽灵引用"论文撤稿"` （双引号里套双引号，会导致解析失败）
- **正确写法**：`"title": "港大'幽灵引用'论文撤稿"` （把内部的引号改成单引号）
- **正确写法 II**：`"title": "港大\"幽灵引用\"论文撤稿"` （使用反斜杠转义）

---
**负责更迭**：本版本由**若谷**基于前期工作优化接手。如有任何使用问题或新需求，请随时呼叫若谷！🌹
